#pull down our base image (so the actual linux/windows image our app will run on)
FROM node:22-alpine

#then we set where our files will live in our docker container
WORKDIR /user/src/app

# then we copy package.json (the file generated by NODE when we created our project)
#as it contains the names of all required packages to make our project work

COPY package*.json ./

#install those package, so that our API will work in the container
RUN npm i

#once all the packaged are installed, we then copy across code for our API
COPY . .

#we then allow our application to talk to the outside world

EXPOSE 3000
 
#and we run our API (each thing in quotes represents there is a space in the command)
CMD [ "npm", "run", "dev" ]